\section{LinAlgebra Of Assets}

Let there be $n$ securities and $s$ states. The \textbf{payoff matrix} is: $A: \mathbb{R}^n \to \mathbb{R}^s \\ (cols \to rows)$ 

(Ex:) $A = \begin{pmatrix}
    1 & 3 & 1.5 & 2\\
    1 & 2 & 0.5 & 1\\
    1 & 1 & 0 & 0\\
\end{pmatrix}$ 
    
Security $x = \begin{pmatrix} 3 \\ 2 \\ 1 \\\end{pmatrix}$ has payoffs 3, 2, and 1 for states $s_1$, $s_2$ and $s_3$

\textbf{The Payoff Matrix}, if $A$ is \textbf{non-singular}, there is a unique solution to $s - A^{-1}b$. Requires: $A$ invertible, Columns independent, securities l.i.

\textbf{A complete market} is one in which every payoff can be generated by some portfolio (from a basis assets), i.e., $rank(A) = s$.

\textbf{Note:}

Let $r(A) \doteq rank(A)$

$r(A) = r(A^\top) \leq min(n,s)$,

$r(AB) \leq min(r(A), r(B))$, 

$r(AA^\top) = r(A)$

\section{Market Value and Prices}

The vector of prices $S$ acts on portfolio vectors. Compute the market value $MV$ of a portfolio $x$ as:

$MV= \\ \sum S_i x_i = (S_1\text{ }S2\text{ } ...) \begin{pmatrix} x_1 \\ x_2 \\ \vdots \end{pmatrix} = S^* x = S[x]$

\section{Arbitrage}

\subsection{Type I Arbitrage}

1. Pay nothing now:
$V = S^* x = \sum S_i x_i \leq 0$

2. Receive only non-negative later: $A x \geq 0$, and at least one payoff $> 0$.

\textbf{Example:} 

$A = \begin{pmatrix} 1 & 3 \\ 1 & 2 \\ 1 & 1 \\\end{pmatrix}, S = \begin{pmatrix}  1 \\ 1 \\\end{pmatrix}$ and $x = \begin{pmatrix}  -1 \\ 1 \\\end{pmatrix}$

then $S^*x = 0$ but $Ax = \begin{pmatrix}  2 \\ 1 \\ 0 \end{pmatrix} \geq 0$

\subsection{Type II Arbitrage}

1. There are redundant assets and non-trivial solutions to $Ax = 0$

2. There is arbitrage if the portfolio has a non-zero price $S^* x \neq 0$

\textbf{Example:}

$A = \begin{pmatrix} 1 & 3 & 1.5 & 2\\ 1 & 2 & 0.5 & 1 \\ 1 & 1 & 0 & 0 \\\end{pmatrix}, S = \begin{pmatrix}  1 \\ 2 \\ 1 \\ 5 \end{pmatrix}$, $x = \begin{pmatrix}  1 \\ -1 \\ 0 \\ 1\end{pmatrix}$

Then $Ax = 0$ but $S^* x = 4$

\section{Arrow-Debreu (AD) Securities}

AD-securities $\{e_j\}_{j\leq s}$ is a unitary orthogonal basis of the payoff space (if they exist). An AD $e_j$ security can be replicated by a portfolio $x$ if $Ax = e_j$

The prices of AD securities are called \textbf{state prices}: $\psi = \begin{pmatrix}  \psi_1 \\ \vdots \\ \psi_s \end{pmatrix}$


\textbf{Example:}

$A = \begin{pmatrix} 1 & 3 & 1.5 & 2\\ 1 & 2 & 0.5 & 1 \\ 1 & 1 & 0 & 0 \\\end{pmatrix}$, 

$x_1 = \begin{pmatrix}  1 \\ -1 \\ 2 \\ 0\end{pmatrix}$, $x_2 = \begin{pmatrix}  -3 \\ 3 \\ -4 \\ 0\end{pmatrix}$, $x_3 = \begin{pmatrix} 3  \\ -2 \\ 2 \\ 0\end{pmatrix}$

Then, $A x_1 = e_1$, $A x_2 = e_2$, $A x_3 = e_3$


\section{Arbitrage Theorem}

Consider: a market with $n$ securities, $s$ states and payoff matrix $A: \mathbb{R}^n \to \mathbb{R}^s$. There is no arbitrage if and only if there exists a \textbf{strictly positive} state-price vector $\psi$ consistent with the security-price vector, i.e., $\psi \in \mathbb{R}^s, S \in \mathbb{R}^n$ and $ S^* = \psi^* A (\Rightarrow S = A^* \psi)$

\begin{itemize}
    \item if there is at one $\psi >0$, then no arb.
    \item if every $\psi <0$, then there is arb.
\end{itemize}

\begin{tikzcd}
    \textbf{Security Prices (S)} \arrow[d] & \textbf{State Prices }(\psi) \arrow[l, bend right,"A^*"] \arrow[d] \\
    \textbf{Portfolios} (x) \arrow[r, bend left, "A"]
    & \textbf{Payoffs} (b)
    \end{tikzcd} \\

\textbf{Algebra of Arbitrage}

$S[x] = \psi[b] = \psi[Ax]$

$S^* x = \psi^* Ax = (A^* \psi)^* x$

$S = A^* \psi$

\section{Arbitrage Pricing Theorem}

Given payoff $A$, prices $S$, target asset with payoff $b$:

Find all $\psi >0$ such that $A^* \psi = S$:
\begin{itemize}
    \item No solutions $\Rightarrow$ arbitrage
    \item 1 solution $\Rightarrow$ complete market
    \item Multiple solutions $\Rightarrow$ incomplete market
\end{itemize}